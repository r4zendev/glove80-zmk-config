compatible = "zmk,combos";

#define QUICK_TIMEOUT_MS 75
#define LONG_TIMEOUT_MS 125

#define COMBO(NAME, KEYPOS, ...) \
  combo_##NAME { \
    bindings = __VA_ARGS__; \
    key-positions = <KEYPOS>; \
    layers = <ALL_LAYERS>; \
    timeout-ms = <QUICK_TIMEOUT_MS>; \
  };

#define COMBO_LONG(NAME, KEYPOS, ...) \
  combo_##NAME { \
    bindings = __VA_ARGS__; \
    key-positions = <KEYPOS>; \
    layers = <ALL_LAYERS>; \
    timeout-ms = <LONG_TIMEOUT_MS>; \
  };

#define LAYER_COMBO(NAME, KEYPOS, LAYERS, ...) \
  combo_##NAME { \
    bindings = __VA_ARGS__; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
    timeout-ms = <QUICK_TIMEOUT_MS>; \
  };

#define LAYER_COMBO_LONG(NAME, KEYPOS, LAYERS, ...) \
  combo_##NAME { \
    bindings = __VA_ARGS__; \
    key-positions = <KEYPOS>; \
    layers = <LAYERS>; \
    timeout-ms = <LONG_TIMEOUT_MS>; \
  };




/*                  80 Keys
╭──────────────────────╮ ╭──────────────────────╮
│0  1  2  3  4         │ │         5  6  7  8  9│
│10 11 12 13 14 15     │ │     16 17 18 19 20 21│
│22 23 24 25 26 27     │ │     28 29 30 31 32 33│
│34 35 36 37 38 39     │ │     40 41 42 43 44 45│
│46 47 48 49 50 51     │ │     58 59 60 61 62 63│
│64 65 66 67 68        │ │        75 76 77 78 79│
│               69 52  │ │  57 74               │
│                70 53 │ │ 56 73                │
╰───────────────╮ 71 54│ │55 72 ╭───────────────╯
                ╰──────╯ ╰──────╯        */

/*                    Used
╭──────────────────────╮ ╭──────────────────────╮
│x  x  x  x  x         │ │         x  x  x  x  x│
│xx xx xx xx xx xx     │ │     xx xx xx xx xx xx│
│xx 23 24 25 26 27     │ │     28 29 30 31 32 xx│
│xx 35 36 37 38 39     │ │     40 41 42 43 44 xx│
│xx 47 48 49 50 51     │ │     58 59 60 61 62 xx│
│xx xx xx xx xx        │ │        xx xx xx xx xx│
│               69 xx  │ │  xx 74               │
│                70 xx │ │ xx 73                │
╰───────────────╮ xx xx│ │xx xx ╭───────────────╯
                ╰──────╯ ╰──────╯        */


COMBO(cmd, 69 70, <&kp LGUI>)
COMBO(ctrl, 73 74, <&kp LCTRL>)
COMBO(f14, 70 73, <&kp F14>)

COMBO_LONG(qwerty_toggle, 69 70 73 74, <&tog QWERTY>)
COMBO_LONG(fnc_hold, 69 74, <&mo FNC>)

LAYER_COMBO(opt_base, 35 47, BASE QWERTY, <&kp LALT>)
LAYER_COMBO(opt_shift, 44 62, BASE QWERTY, <&kp LSHIFT>)